# ============================================================================
# Observability Stack - Environment Configuration
# ============================================================================
# Copy this file to .env and customize as needed

# ============================================================================
# Docker Compose Configuration
# ============================================================================

# Docker compose project name
COMPOSE_PROJECT_NAME=observability-stack

# Docker compose file
COMPOSE_FILE=docker-compose.yml

# ============================================================================
# Prometheus Configuration
# ============================================================================

# Prometheus image tag
PROMETHEUS_IMAGE=prom/prometheus:v2.48.0

# Prometheus scrape interval
PROMETHEUS_SCRAPE_INTERVAL=15s

# Prometheus evaluation interval
PROMETHEUS_EVALUATION_INTERVAL=15s

# Prometheus retention period
PROMETHEUS_RETENTION=15d

# ============================================================================
# Grafana Configuration
# ============================================================================

# Grafana image tag
GRAFANA_IMAGE=grafana/grafana:10.2.2

# Grafana admin user
GF_SECURITY_ADMIN_USER=admin

# Grafana admin password (CHANGE THIS IN PRODUCTION!)
GF_SECURITY_ADMIN_PASSWORD=admin

# Allow Grafana sign-up
GF_USERS_ALLOW_SIGN_UP=false

# Grafana log level
GF_LOG_LEVEL=info

# ============================================================================
# Loki Configuration
# ============================================================================

# Loki image tag
LOKI_IMAGE=grafana/loki:2.9.3

# Loki log level
LOKI_LOG_LEVEL=info

# Loki retention period
LOKI_RETENTION_PERIOD=30d

# ============================================================================
# Promtail Configuration
# ============================================================================

# Promtail image tag
PROMTAIL_IMAGE=grafana/promtail:2.9.3

# Promtail log level
PROMTAIL_LOG_LEVEL=info

# ============================================================================
# Jaeger Configuration
# ============================================================================

# Jaeger image tag
JAEGER_IMAGE=jaegertracing/all-in-one:1.52

# Jaeger agent port
JAEGER_AGENT_PORT=6831

# Jaeger collector port
JAEGER_COLLECTOR_PORT=14268

# ============================================================================
# AlertManager Configuration
# ============================================================================

# AlertManager image tag
ALERTMANAGER_IMAGE=prom/alertmanager:v0.26.0

# Slack Webhook URL for AlertManager notifications
# Get this from: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# PagerDuty integration key
# Get this from your PagerDuty account
PAGERDUTY_KEY=

# ============================================================================
# Node Exporter Configuration
# ============================================================================

# Node Exporter image tag
NODE_EXPORTER_IMAGE=prom/node-exporter:v1.7.0

# ============================================================================
# cAdvisor Configuration
# ============================================================================

# cAdvisor image tag
CADVISOR_IMAGE=gcr.io/cadvisor/cadvisor:v0.47.2

# ============================================================================
# PostgreSQL Configuration
# ============================================================================

# PostgreSQL image tag
POSTGRES_IMAGE=postgres:15.5-alpine

# PostgreSQL user
POSTGRES_USER=postgres

# PostgreSQL password
POSTGRES_PASSWORD=postgres

# PostgreSQL database
POSTGRES_DB=sampledb

# PostgreSQL port
POSTGRES_PORT=5432

# PostgreSQL exporter image
POSTGRES_EXPORTER_IMAGE=prometheuscommunity/postgres-exporter:v0.15.0

# ============================================================================
# Redis Configuration
# ============================================================================

# Redis image tag
REDIS_IMAGE=redis:7.2-alpine

# Redis port
REDIS_PORT=6379

# Redis exporter image
REDIS_EXPORTER_IMAGE=oliver006/redis_exporter:v1.55.0

# ============================================================================
# Sample API Service Configuration
# ============================================================================

# Service name
SERVICE_NAME=sample-api

# Service environment
ENVIRONMENT=development

# Jaeger agent host
JAEGER_AGENT_HOST=jaeger-all-in-one

# Database URL
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/sampledb

# Redis URL
REDIS_URL=redis://redis:6379/0

# API service port
API_PORT=8000

# Enable Prometheus metrics
PROMETHEUS_METRICS=true

# ============================================================================
# Load Generator Configuration
# ============================================================================

# Target URL for load generator
TARGET_URL=http://sample-api:8000

# Requests per second
REQUESTS_PER_SECOND=10

# Load generator duration in seconds
DURATION_SECONDS=3600

# Burst probability (0.0-1.0)
BURST_PROBABILITY=0.05

# Maximum burst multiplier
MAX_BURST_MULTIPLIER=5.0

# Error injection rate (0.0-1.0)
ERROR_INJECTION_RATE=0.02

# Latency injection rate (0.0-1.0)
LATENCY_INJECTION_RATE=0.05

# Maximum injected latency in seconds
MAX_LATENCY_DELAY=3.0

# ============================================================================
# Logging Configuration
# ============================================================================

# Log level for services
LOG_LEVEL=INFO

# Enable JSON logging
JSON_LOGGING=true

# ============================================================================
# Monitoring Configuration
# ============================================================================

# Enable enhanced monitoring
ENHANCED_MONITORING=true

# Metrics refresh interval
METRICS_REFRESH_INTERVAL=30s

# ============================================================================
# Security Configuration
# ============================================================================

# Enable authentication
ENABLE_AUTH=false

# Basic auth username (if enabled)
BASIC_AUTH_USER=

# Basic auth password (if enabled)
BASIC_AUTH_PASSWORD=

# ============================================================================
# Performance Configuration
# ============================================================================

# Maximum concurrent requests
MAX_CONCURRENT_REQUESTS=1000

# Request timeout in seconds
REQUEST_TIMEOUT=30

# Memory limit for containers (in MB)
MEMORY_LIMIT=1024

# CPU limit for containers (fraction of a CPU)
CPU_LIMIT=1.0

# ============================================================================
# Development Configuration
# ============================================================================

# Enable debug mode
DEBUG=false

# Enable verbose logging
VERBOSE=false

# Enable profiling
ENABLE_PROFILING=false

# ============================================================================
# Storage Configuration
# ============================================================================

# Prometheus data volume mount point
PROMETHEUS_DATA_PATH=./data/prometheus

# Loki data volume mount point
LOKI_DATA_PATH=./data/loki

# PostgreSQL data volume mount point
POSTGRES_DATA_PATH=./data/postgres

# Redis data volume mount point
REDIS_DATA_PATH=./data/redis

# Grafana data volume mount point
GRAFANA_DATA_PATH=./data/grafana
