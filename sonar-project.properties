# ============================================================
# SonarQube Project Configuration
# ============================================================
# This file configures SonarQube analysis for the CI pipeline.
#
# Prerequisites:
#   - SonarQube server running (self-hosted or SonarCloud)
#   - SONAR_TOKEN secret configured in GitHub repository
#   - SONAR_HOST_URL secret configured in GitHub repository
#
# The CI pipeline (ci.yaml) runs SonarQube analysis on every PR.
# If SonarQube is not configured, the pipeline falls back to
# local static analysis checks.
# ============================================================

# Project identification
sonar.projectKey=2048-cicd-enterprise
sonar.projectName=2048 CI/CD Enterprise Platform
sonar.projectVersion=1.0.0

# Source configuration
sonar.sources=2048/www
sonar.tests=tests

# Language settings
sonar.language=web
sonar.sourceEncoding=UTF-8

# Exclusions (files not to analyze)
sonar.exclusions=\
  **/node_modules/**,\
  **/test-results/**,\
  **/playwright-report/**,\
  **/coverage/**,\
  **/*.md,\
  **/k6-results/**

# Test exclusions
sonar.test.exclusions=\
  **/node_modules/**

# Coverage (if available)
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Quality Gate conditions (enforced in SonarQube server)
# These are documented here for reference:
#
# Condition                    | Threshold | Blocks Merge
# -----------------------------|-----------|-------------
# New bugs                     | 0         | Yes
# New vulnerabilities          | 0         | Yes
# New code smells              | < 5       | Yes
# Duplicated lines on new code | < 3%      | Yes
# Coverage on new code         | > 80%     | No (warning)
# Security hotspots reviewed   | 100%      | Yes

# Dockerfile analysis
sonar.dockerfile.file.suffixes=Dockerfile

# HTML analysis settings
sonar.html.file.suffixes=.html,.htm
